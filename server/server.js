!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.oe=function(e){process.nextTick(function(){throw e})},n.w={},n(n.s=16)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("react-router-dom")},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var r=n(10),o=n.n(r),a=n(5);function i(e){return{type:a.b,payload:e}}function c(e){var t,n,r=this;return t=regeneratorRuntime.mark(function t(n){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get("http://localhost:3000/"+e);case 3:i=t.sent,n((r=i.data,{type:a.a,payload:r})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Fetching rating error ->",t.t0);case 10:case"end":return t.stop()}var r},t,r,[[0,7]])}),n=function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});t(c)}("next")})},function(e){return n.apply(this,arguments)}}},function(e,t){e.exports=require("styled-components")},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r="SET_SEARCH_TERM",o="ADD_API_DATA"},function(e,t){e.exports=require("redux")},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n(2),c=n(3),u=function(e){var t=void 0;return t=e.showSearch?o.a.createElement("input",{type:"text",value:e.searchTerm,onChange:e.handleSearchTermStateChange,placeholder:"Search"}):o.a.createElement("h2",null,o.a.createElement(i.Link,{to:"/search",href:"/search"},"Back")),o.a.createElement("header",null,o.a.createElement("h1",null,o.a.createElement(i.Link,{to:"/",href:"/"},"KindaNetflix")),t)};u.defaultProps={showSearch:!1};t.a=Object(a.connect)(function(e){return{searchTerm:e.searchTerm}},function(e){return{handleSearchTermStateChange:function(t){e(Object(c.b)(t.currentTarget.value))}}})(u)},function(e,t){e.exports=require("react-router-config")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("redux-thunk")},function(e,t){e.exports=require("react-dom")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("react-dom/server")},function(e,t,n){"use strict";n.r(t);var r=n(9),o=n.n(r),a=n(0),i=n.n(a),c=n(15),u=n.n(c),l=n(2),s=n(14),p=n.n(s),f=n(13),h=n.n(f),d=n(12),m=n(8),b=n(1),y=n(6),v=n(11),g=n.n(v),w=n(5),x=Object(y.combineReducers)({searchTerm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];return t.type===w.b?t.payload:e},apiData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];return n.type===w.a?Object.assign({},t,((e={})[n.payload.imdbID]=n.payload,e)):t}}),E=Object(y.createStore)(x,Object(y.compose)(Object(y.applyMiddleware)(g.a)));function O(e){var t=e.loader,n=e.Placeholder,r=null;return function(e){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return t.updateState=t.updateState.bind(t),t.state={Component:r},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),o.load=function(){return t().then(function(e){r=e.default||e})},o.prototype.componentWillMount=function(){o.load().then(this.updateState)},o.prototype.updateState=function(){this.state.Component!==r&&this.setState({Component:r})},o.prototype.render=function(){var e=this.state.Component;return e?i.a.createElement(e,this.props):n?i.a.createElement(n,this.props):null},o}(i.a.Component)}function j(e,t){return e.map(function(e){if("function"==typeof e.path){var n=e.path(t||"").replace("//","/");return{path:n,component:e.component,exact:e.exact,routes:e.routes?j(e.routes,n):[]}}var r=""+t+e.path;return{path:r,component:e.component,exact:e.exact,routes:e.routes?j(e.routes,r):[]}})}var S=[{path:function(e){return e+"/"},exact:!0,component:O({loader:function(){return Promise.resolve().then(n.bind(null,19))}})},{path:function(e){return e+"/search"},component:O({loader:function(){return Promise.resolve().then(n.bind(null,18))}})},{path:function(e){return e+"/details/:id"},component:O({loader:function(){return Promise.resolve().then(n.bind(null,17))}})}],T=j(S),P=function(){return i.a.createElement(b.Provider,{store:E},i.a.createElement("div",{className:"app"},Object(m.renderRoutes)(T)))},_=j(S);function C(e){return(t=_,n=e,r=Object(m.matchRoutes)(t,n||window.location.pathname),Promise.all(r.map(function(e){var t=e.route.component;if(t&&t.load)return t.load()}))).then(function(){return Object(d.render)(i.a.createElement(l.StaticRouter,{context:{},location:e},i.a.createElement(P,null)),document.getElementById("app"))});var t,n,r}var D=h.a.readFileSync("./index.html"),k=p.a.template(D),q=o()();q.use("/public",o.a.static("./public")),q.use(function(e,t){console.log(e.url);var n={};C(e.url).then(function(e){var r=u.a.renderToString(i.a.createElement(e));n.url&&t.redirect(n.url),t.write(k({body:r})),t.end()})}),console.log("listening on 8080"),q.listen(8080)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n(3),c=n(7),u=n(4),l=n.n(u),s=f(["\n\tfrom {\n\t\ttransform: rotate(0deg);\n\t}\n\tto{\n\t\ttransform: rotate(360deg);\n\t}\n"],["\n\tfrom {\n\t\ttransform: rotate(0deg);\n\t}\n\tto{\n\t\ttransform: rotate(360deg);\n\t}\n"]),p=f(["\n\tanimation: "," 4s infinite linear;\n"],["\n\tanimation: "," 4s infinite linear;\n"]);function f(e,t){return e.raw=t,e}var h=Object(u.keyframes)(s),d=l.a.img(p,h),m=function(){return o.a.createElement(d,{src:"/public/img/loading.png",alt:"loading indicator"})};var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.rating&&"no rating"!==this.props.rating||this.props.getAPIData()},t.prototype.render=function(){var e=this.props.show,t=e.title,n=e.description,r=e.year,a=e.poster,i=e.trailer,u=void 0;return u=this.props.rating?o.a.createElement("h3",null,this.props.rating):o.a.createElement(m,null),o.a.createElement("div",{className:"details"},o.a.createElement(c.a,null),o.a.createElement("section",null,o.a.createElement("h1",null,t),o.a.createElement("h2",null,"(",r,")"),u,o.a.createElement("img",{src:"/public/img/posters/"+a,alt:"Poster for "+t}),o.a.createElement("p",null,n)),o.a.createElement("div",null,o.a.createElement("iframe",{src:"https://www.youtube-nocookie.com/embed/"+i+"?rel=0&amp;controls=0&showinfo=0",frameBorder:"0",allowFullScreen:!0,title:"Trailer for "+t})))},t}(r.Component);t.default=Object(a.connect)(function(e,t){return{rating:(e.apiData[t.show.imdbID]?e.apiData[t.show.imdbID]:{}).rating||"no rating"}},function(e,t){return{getAPIData:function(){e(Object(i.a)(t.show.imdbID))}}})(b)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n(4),c=n.n(i),u=n(2),l=p(["\n\twidth: 32%;\n\tborder: 2px solid #333;\n\tborder-radius: 4px;\n\tmargin-bottom: 25px;\n\tpadding-right: 10px;\n\toverflow: hidden;\n\tcolor: black;\n\ttext-decoration: none;\n"],["\n\twidth: 32%;\n\tborder: 2px solid #333;\n\tborder-radius: 4px;\n\tmargin-bottom: 25px;\n\tpadding-right: 10px;\n\toverflow: hidden;\n\tcolor: black;\n\ttext-decoration: none;\n"]),s=p(["\n\twidth: 46%;\n\tfloat: left;\n\tmargin-right: 10px;\n"],["\n\twidth: 46%;\n\tfloat: left;\n\tmargin-right: 10px;\n"]);function p(e,t){return e.raw=t,e}var f=c()(u.Link)(l),h=c.a.img(s),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){return o.a.createElement(f,{className:"show-card",to:"/details/"+this.props.imdbID,href:"/details/"+this.props.imdbID},o.a.createElement(h,{src:"/public/img/posters/"+this.props.poster,alt:this.props.title+" Show Poster"}),o.a.createElement("div",null,o.a.createElement("h3",null,this.props.title),o.a.createElement("h4",null,"(",this.props.year,")"),o.a.createElement("p",null,this.props.description)))},t}(r.Component),m=n(7);n.d(t,"Unwrapped",function(){return v});var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(e){return o.a.createElement("div",{className:"search"},o.a.createElement(m.a,{showSearch:!0}),o.a.createElement("div",null,e.shows.filter(function(t){return(t.title+" "+t.description).toUpperCase().includes(e.searchTerm.toUpperCase())}).map(function(e){return o.a.createElement(d,b({key:e.imdbID},e))})))},v=y;t.default=Object(a.connect)(function(e){return{searchTerm:e.searchTerm}})(y)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n(2),c=n(3);function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=u(this,e.call.apply(e,[this].concat(a))),r.goToSearch=function(e){e.preventDefault(),r.props.history.push("/search")},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.a.createElement("div",{className:"landing"},o.a.createElement("h1",null,"KindaNetflix"),o.a.createElement("form",{onSubmit:this.goToSearch},o.a.createElement("input",{value:this.props.searchTerm,type:"text",onChange:this.props.handleSearchTermStateChange,placeholder:"Search"})),o.a.createElement(i.Link,{href:"/search",to:"/search"},"or Browse All"))},t}(r.Component);t.default=Object(a.connect)(function(e){return{searchTerm:e.searchTerm}},function(e){return{handleSearchTermStateChange:function(t){e(Object(c.b)(t.currentTarget.value))}}})(l)}]);